[{"C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\reportWebVitals.js":"1","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\App.js":"2","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\layouts\\Login.jsx":"3","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\layouts\\Dashboard.jsx":"4","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\index.js":"5","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\serviceWorker.js":"6","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\services\\authentication.service.js":"7","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\variables\\config.js":"8","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\views\\Map.jsx":"9","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\MapTodo.jsx":"10","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\Chat.jsx":"11","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\CrudUsuarios.jsx":"12","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\CrudLocalizaciones.jsx":"13","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\CrudPreguntas.jsx":"14","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\CrudRanking.jsx":"15","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\Markers\\Ivi.jsx":"16","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\Panels\\PanelIvi.jsx":"17","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\layouts\\DashboardLogin.jsx":"18","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\services\\routing.service.js":"19","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\Modals\\NewIvi.jsx":"20"},{"size":362,"mtime":1608549482987,"results":"21","hashOfConfig":"22"},{"size":1075,"mtime":1611007575229,"results":"23","hashOfConfig":"22"},{"size":6823,"mtime":1611008844321,"results":"24","hashOfConfig":"22"},{"size":6014,"mtime":1611010212403,"results":"25","hashOfConfig":"22"},{"size":738,"mtime":1608629368479,"results":"26","hashOfConfig":"22"},{"size":5332,"mtime":1611006394165,"results":"27","hashOfConfig":"22"},{"size":2032,"mtime":1610963516214,"results":"28","hashOfConfig":"22"},{"size":97,"mtime":1611005605071,"results":"29","hashOfConfig":"22"},{"size":479,"mtime":1608630876471,"results":"30","hashOfConfig":"22"},{"size":19748,"mtime":1611007292799,"results":"31","hashOfConfig":"22"},{"size":1065,"mtime":1610439520616,"results":"32","hashOfConfig":"22"},{"size":799,"mtime":1610611771746,"results":"33","hashOfConfig":"22"},{"size":3682,"mtime":1610970955466,"results":"34","hashOfConfig":"22"},{"size":801,"mtime":1610611737386,"results":"35","hashOfConfig":"22"},{"size":804,"mtime":1610613947609,"results":"36","hashOfConfig":"22"},{"size":5938,"mtime":1610705857359,"results":"37","hashOfConfig":"22"},{"size":5250,"mtime":1610887081944,"results":"38","hashOfConfig":"22"},{"size":4112,"mtime":1610886419747,"results":"39","hashOfConfig":"22"},{"size":5845,"mtime":1610888175990,"results":"40","hashOfConfig":"22"},{"size":1782,"mtime":1611006037350,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"eddhbr",{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"44"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"44"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"44"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"44"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"44"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74","usedDeprecatedRules":"44"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"44"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"44"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"88"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"44"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"44"},"C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\reportWebVitals.js",[],["95","96"],"C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\App.js",["97"],"import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport \"antd/dist/antd.css\";\nimport Dashboard from './layouts/Dashboard.jsx';\nimport Login from './layouts/Login.jsx';\n//import Login from './layouts/DashboardLogin.jsx';\n\nimport localizaciones from './components/CrudLocalizaciones';\nimport preguntas from './components/CrudPreguntas';\nimport usuarios from './components/CrudUsuarios';\nimport ranking from './components/CrudRanking';\n\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\n\nconst App = () => (\n  <div className=\"App\">\n    <BrowserRouter>\n      <Switch>\n        {/* PARA HACER PRUEBAS CAMBIAR EL ORDEN */}\n        <Route path=\"/\" component={Dashboard} />\n        <Route path=\"/login\" component={Login} />\n        \n        <Route path=\"/localizaciones\" component={localizaciones} />\n        <Route path=\"/preguntas\" component={preguntas} />\n        <Route path=\"/ranking\" component={ranking} />\n        <Route path=\"/usuarios\" component={usuarios} />\n      </Switch>\n    </BrowserRouter>\n  </div>\n);\n\nexport default App;\n","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\layouts\\Login.jsx",[],"C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\layouts\\Dashboard.jsx",["98","99"],"C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\index.js",["100"],"import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\serviceWorker.js",[],"C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\services\\authentication.service.js",[],"C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\variables\\config.js",[],"C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\views\\Map.jsx",[],"C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\MapTodo.jsx",["101","102","103","104","105","106"],"import React from \"react\";\r\n//To request HTTP\r\nimport axios from \"axios\";\r\nimport { Redirect, Link } from 'react-router-dom';\r\n\r\n//Leaflet\r\nimport { Map, TileLayer, ZoomControl, Polyline, Marker } from 'react-leaflet'\r\n//Import Leaflet and plugins\r\nimport L from 'leaflet';\r\nimport Control from 'react-leaflet-control';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport 'leaflet-contextmenu'\r\nimport 'leaflet-contextmenu/dist/leaflet.contextmenu.min.css'\r\n//Geolocalizacion\r\nimport Geolocation from 'react-geolocation'\r\n//Icons to context menu\r\nimport ZoomIn from 'leaflet-contextmenu/examples/images/zoom-in.png'\r\nimport ZoomOut from 'leaflet-contextmenu/examples/images/zoom-out.png'\r\n\r\nimport PointInPolygon from 'point-in-polygon';\r\n\r\n//Antd \r\nimport { Col, Select, Button, Radio, Drawer } from 'antd';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faMapMarkerAlt } from '@fortawesome/free-solid-svg-icons'\r\n\r\n//Variables globales\r\nimport { globals } from \"../variables/config.js\";\r\n//Service to get routes (traces with two points)\r\nimport { routingService } from '../services/routing.service.js';\r\n\r\n//Componentes\r\nimport Chat from \"./Chat.jsx\";\r\nimport MarkerIvi from \"./Markers/Ivi.jsx\";\r\nimport NewIvi from \"./Modals/NewIvi.jsx\";\r\nimport PanelIvi from \"./Panels/PanelIvi.jsx\";\r\n\r\n\r\nconst { Option } = Select;\r\n\r\nconst RadioGroup = Radio.Group;\r\n\r\n//Ficoba parking\r\nconst polygonZone = [[43.345991787074105, -1.7898488044738772], [43.34616928790513, -1.7897576093673708], [43.34648137601981, -1.7893901467323305], [43.34622000233296, -1.788381636142731], [43.34568164701375, -1.7886203527450564]];\r\n\r\n\r\n//Tiles for map\r\nconst map_tiles = [\r\n    {\r\n        label: \"Open Street Maps\",\r\n        value: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n    },\r\n    {\r\n        label: \"Satelite\",\r\n        value: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\r\n        attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'\r\n    },\r\n    {\r\n        label: \"Open Street Maps DE\",\r\n        value: \"https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png\"\r\n    },\r\n    {\r\n        label: \"Open Street Maps HOT\",\r\n        value: \"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\"\r\n    },\r\n    {\r\n        label: \"Open Topo Map\",\r\n        value: \"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png\"\r\n    },\r\n    {\r\n        label: \"Open Map Surfer\",\r\n        value: \"https://maps.heigit.org/openmapsurfer/tiles/roads/webmercator/{z}/{x}/{y}.png\"\r\n    },\r\n    {\r\n        label: \"Hydda Full\",\r\n        value: \"https://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png\"\r\n    },\r\n    {\r\n        label: \"Esri World Street Map\",\r\n        value: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}\"\r\n    },\r\n    {\r\n        label: \"Esri World Topo Map\",\r\n        value: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}\"\r\n    }\r\n]\r\n\r\n//Function to select Tile\r\nconst getLabelOfTile = (value) => map_tiles.find(obj => obj.value === value).label || \"Open Street Maps\";\r\n\r\nclass MapTodo extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //VARIABLES DEL STATE\r\n            ivi: [],\r\n            latLonClick: null, //lat, lng on map click\r\n\r\n            //Map tile selected\r\n            tile_map: localStorage.getItem(\"tile_map\") || \"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\",\r\n\r\n            //Start position and zoom\r\n            //position: [43.290863, -1.983663],\r\n            position: [43.34659, -1.78743],\r\n            zoom: 15,\r\n\r\n            //Panel right on add Denm or IVI with traces\r\n            currentEventDenm: null,\r\n            currentEventIvi: null,\r\n\r\n            //traces action when click on map\r\n            clickMapStatus: null, // null | detection | relevation | traces (for denm)\r\n\r\n            //Denm trace first point\r\n            newTraceDenmStart: null,\r\n\r\n            //Cursor for add traces\r\n            customCur: \"\",\r\n\r\n            //Menu Desplazable\r\n            visible: false , \r\n            placement: 'left', \r\n\r\n\r\n            visibleIvi: false\r\n\r\n\r\n        };\r\n    }\r\n    //FUNCIONES APARTIR DE AQUI\r\n\r\n    componentDidMount() {\r\n        //Get token to request\r\n        let objUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n        let token = (objUser && objUser.token) ? objUser.token : \"\";\r\n\r\n        //Get all events\r\n        axios.get(globals.url_api, {\r\n            headers: { 'x-access-token': token }\r\n        })\r\n            .then(res => (res.status === 200) && this.setState({ivi: res.data.ivi }));\r\n    }\r\n\r\n    //Change Tile map in moment and save in local storage\r\n    handleChangeTile = value => {\r\n        this.setState({ tile_map: value });\r\n        localStorage.setItem(\"tile_map\", value);\r\n    };\r\n    //More zoom\r\n    zoomIn = () => {\r\n        let lastZoom = this.state.zoom;\r\n        if (lastZoom < 21) this.setState({ zoom: lastZoom + 1 })\r\n    }\r\n\r\n    //Less zoom\r\n    zoomOut = () => {\r\n        let lastZoom = this.state.zoom;\r\n        if (lastZoom > 1) this.setState({ zoom: lastZoom - 1 })\r\n    }\r\n\r\n\r\n\r\n    //FUNCIONES MENU DESPLEGABLE\r\n    showDrawer = () => {\r\n        this.setState({\r\n          visible: true,\r\n        });\r\n      };\r\n    \r\n    onClose = () => {\r\n        this.setState({\r\n            visible: false,\r\n        });\r\n    };\r\n\r\n    onChange = e => {\r\n        this.setState({\r\n            placement: e.target.value,\r\n        });\r\n    };\r\n\r\n    centerMap = (e) => this.setState({ position: [e.latlng.lat, e.latlng.lng] });\r\n\r\n    //PARA BORRAR PUNTOS + RUTAS\r\n     //Send request to delete Ivi\r\n     handleDeleteIvi = (id) => {\r\n        let objUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n        let token = (objUser && objUser.token) ? objUser.token : \"\";\r\n\r\n        axios.post(globals.url_api + 'ivi_del',\r\n            { id: id },\r\n            { headers: { 'x-access-token': token } },\r\n        )\r\n            .then(res => {\r\n                if (res.status === 200) {\r\n                    const { ivi } = this.state;\r\n                    let newMarkers = ivi.filter(obj => obj.id !== id);\r\n                    this.map.leafletElement.closePopup();\r\n                    this.setState({ ivi: newMarkers });\r\n                }\r\n            })\r\n            .catch(err => console.log(\"error\", err));\r\n    };\r\n\r\n    //GUARDAR FORM \r\n    //Save form IVI\r\n    saveFormRefIvi = formRef => this.formRefIvi = formRef;\r\n\r\n    //Abrir formulario para añadir ruta\r\n    openIviModal = (e) => this.setState({ visibleIvi: true, latLonClick: e.latlng });\r\n    handleCancelIvi = () => {\r\n        this.setState({ visibleIvi: false });\r\n        const { form } = this.formRefIvi.props;\r\n        form.resetFields();\r\n    };\r\n\r\n    //On add ivi in Zones panel\r\n    handleCreateIviWithZones = () => {\r\n        let { currentEventIvi, ivi } = this.state;\r\n        if (!currentEventIvi) return;\r\n\r\n        let objUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n        let token = (objUser && objUser.token) ? objUser.token : \"\";\r\n\r\n        axios.post(globals.url_api + 'ivi', {\r\n            spm: currentEventIvi.spm,\r\n            lat: currentEventIvi.latitude,\r\n            lon: currentEventIvi.long,\r\n            valid_from: currentEventIvi.valid_from,\r\n            valid_to: currentEventIvi.valid_to,\r\n            cause_code: currentEventIvi.cause_code,\r\n            //relevance_points: JSON.stringify(currentEventIvi.relevance_zones),\r\n            detection_points: JSON.stringify(currentEventIvi.detection_zones)\r\n        }, {\r\n            headers: { 'x-access-token': token },\r\n        })\r\n            .then(res => {\r\n                if (res.status === 201) {\r\n                    ivi.push(res.data.ivi);\r\n                    this.setState({ ivi, visibleDenm: false, clickMapStatus: null, newTraceDenmStart: null, currentEventIvi: null, customCur: \"\" });\r\n                }\r\n            })\r\n            .catch(err => console.log(\"error\", err));\r\n    };\r\n\r\n    //On cancel in Zones panel\r\n    handleCancelWithZones = () => this.setState({ visibleDenm: false, visibleDenm2: false, visibleIvi: false, visibleIvi2: false,clickMapStatus: null, newTraceDenmStart: null, currentEventDenm: null, currentEventIvi: null, customCur: \"\" });\r\n\r\n    //On accept denm modal (Send request or open add traces mode)\r\n    handleCreateIvi = () => {\r\n        const { form } = this.formRefIvi.props;\r\n        form.validateFields((err, values) => {\r\n            if (err) {\r\n                return;\r\n            }\r\n\r\n            //Get valid dates to send \r\n            let valid_from = values.dates[0].utcOffset(0);\r\n            valid_from.set({ hour: 0, minute: 0, second: 0 });\r\n\r\n            let valid_to = values.dates[1].utcOffset(0);\r\n            valid_to.set({ hour: 23, minute: 59, second: 59 });\r\n\r\n            const { ivi, latLonClick } = this.state;\r\n\r\n            let objUser = JSON.parse(localStorage.getItem(\"currentUser\"));\r\n            let token = (objUser && objUser.token) ? objUser.token : \"\";\r\n\r\n            //If not need traces\r\n            if (!values.traces) {\r\n                axios.post(globals.url_api + 'ivi', {\r\n                    spm: values.speed_limit,\r\n                    lat: latLonClick.lat,\r\n                    lon: latLonClick.lng,\r\n                    valid_from: valid_from.unix(),\r\n                    valid_to: valid_to.unix()\r\n                }, {\r\n                    headers: { 'x-access-token': token },\r\n                })\r\n                    .then(res => {\r\n                        if (res.status === 201) {\r\n                            ivi.push(res.data.ivi);\r\n                            this.setState({ ivi, visibleIvi: false });\r\n                            form.resetFields();\r\n                        }\r\n                    })\r\n                    .catch(err => console.log(\"error\", err));\r\n            } else {\r\n                this.setState({\r\n                    currentEventIvi: {\r\n                        spm: values.speed_limit,\r\n                        valid_from: valid_from.unix(),\r\n                        valid_to: valid_to.unix(),\r\n                        latitude: latLonClick.lat,\r\n                        long: latLonClick.lng,\r\n                        detection_zones: []\r\n                       // relevance_zones: []\r\n                    },\r\n                    visibleIvi: false,\r\n                    clickMapStatus: \"detection\",\r\n                    customCur: \"add-detection-zone-cur\"\r\n                })\r\n            }\r\n\r\n            //Reset form\r\n            form.resetFields();\r\n        });\r\n    };\r\n    //To add new zone in denm and relevation or detection in ivi\r\n    handleNewZone = (e) => {\r\n        let { clickMapStatus, newTraceDenmStart, currentEventDenm, currentEventIvi } = this.state;\r\n        if (!clickMapStatus) return;\r\n        if (clickMapStatus === \"denm\") {\r\n            if (!newTraceDenmStart) {\r\n                this.setState({ newTraceDenmStart: e.latlng, customCur: \"add-end-zone-cur\" })\r\n            } else {\r\n                let insideParking = PointInPolygon([currentEventDenm.lat, currentEventDenm.lon], polygonZone)\r\n\r\n                if (insideParking) {\r\n                    //AQUI ENEKO\r\n                    //let points = routingService.getRouteParking(newTraceDenmStart.lat, newTraceDenmStart.lng, e.latlng.lat, e.latlng.lng);\r\n                    let points = routingService.getRouteParkingTrackAlfon(newTraceDenmStart.lat, newTraceDenmStart.lng, e.latlng.lat, e.latlng.lng);\r\n\r\n                    currentEventDenm.zones.push(points);\r\n                    this.setState({ currentEventDenm, newTraceDenmStart: null, customCur: \"add-start-zone-cur\" });\r\n                } else {\r\n\r\n                    routingService.getRoute(newTraceDenmStart.lat, newTraceDenmStart.lng, e.latlng.lat, e.latlng.lng)\r\n                        .then(response => {\r\n                            currentEventDenm.zones.push(response.array);\r\n                            if (response) this.setState({ currentEventDenm, newTraceDenmStart: null, customCur: \"add-start-zone-cur\" });\r\n                        });\r\n                }\r\n            }\r\n        }\r\n        else if (clickMapStatus === \"detection\") {\r\n            let insideParking = PointInPolygon([currentEventIvi.latitude, currentEventIvi.long], polygonZone)\r\n\r\n            if (insideParking) {\r\n                //AQUI ENEKO\r\n                //let points = routingService.getRouteParking(currentEventIvi.latitude, currentEventIvi.long, e.latlng.lat, e.latlng.lng);\r\n                let points = routingService.getRouteParkingTrackAlfon(currentEventIvi.latitude, currentEventIvi.long, e.latlng.lat, e.latlng.lng);\r\n\r\n                currentEventIvi.detection_zones.push(points);\r\n            \r\n                this.setState({ currentEventIvi });\r\n            } else {\r\n\r\n                routingService.getRoute(e.latlng.lat, e.latlng.lng, currentEventIvi.latitude, currentEventIvi.long)\r\n                    .then(response => {\r\n                        currentEventIvi.detection_zones.push(response.array);\r\n                        if (response) this.setState({ currentEventIvi });\r\n                    });\r\n            }\r\n        }\r\n        else if (clickMapStatus === \"relevance\") {\r\n            let insideParking = PointInPolygon([currentEventIvi.latitude, currentEventIvi.long], polygonZone)\r\n\r\n            if (insideParking) {\r\n                //AQUI ENEKO\r\n                //let points = routingService.getRouteParking(currentEventIvi.latitude, currentEventIvi.long, e.latlng.lat, e.latlng.lng);\r\n                let points = routingService.getRouteParkingTrackAlfon(currentEventIvi.latitude, currentEventIvi.long, e.latlng.lat, e.latlng.lng);\r\n\r\n                currentEventIvi.relevance_zones.push(points);\r\n                this.setState({ currentEventIvi });\r\n            } else {\r\n\r\n                routingService.getRoute(currentEventIvi.latitude, currentEventIvi.long, e.latlng.lat, e.latlng.lng)\r\n                    .then(response => {\r\n                        currentEventIvi.relevance_zones.push(response.array);\r\n                        if (response) this.setState({ currentEventIvi });\r\n                    });\r\n            }\r\n        }\r\n\r\n\r\n    };\r\n\r\n    //Change IVI mouse\r\n    changeZoneType = (clickMapStatus) => this.setState({ clickMapStatus, customCur: 'add-' + clickMapStatus + '-zone-cur' });\r\n\r\n    //remove ivi detection none\r\n    removeZoneDetection = (i) => {\r\n        let currentEventIvi = this.state.currentEventIvi;\r\n        if (currentEventIvi && currentEventIvi.detection_zones && currentEventIvi.detection_zones[i]) currentEventIvi.detection_zones.splice(i, 1);\r\n        this.setState({ currentEventIvi });\r\n    }\r\n\r\n    //RENDER PARA LO VISUAL\r\n    render() {\r\n        const { tile_map, position, zoom, ivi, currentEventIvi, visibleIvi } = this.state;\r\n        return (\r\n            <Col span={24} style={{ padding: 0 }}>\r\n                <Button style={{padding:'0px'}} type=\"primary\" block>\r\n                        <Link to=\"/login\">Lista de rutas</Link>       \r\n                    </Button>\r\n\r\n\r\n                {/*Ivi modal*/}\r\n                <NewIvi\r\n                    wrappedComponentRef={this.saveFormRefIvi}\r\n                    visible={visibleIvi}\r\n                    onCancel={this.handleCancelIvi}\r\n                    onCreate={this.handleCreateIvi}\r\n                />\r\n                \r\n\r\n\r\n                {/*Map object*/}\r\n                <Map\r\n                    center={position}\r\n                    zoom={zoom}\r\n                    style={{  height: 'calc(101vh - 70px)' }}\r\n                    onClick={this.handleNewZone}\r\n                    zoomControl={false}\r\n                    contextmenu={true}\r\n                    contextmenuWidth={450}\r\n                    maxZoom={20}\r\n                    //Menu on right click\r\n                    contextmenuItems={[\r\n                        \r\n                        {\r\n                            text: 'Insertar ruta',\r\n                            icon: ZoomControl,\r\n                            callback: (e) => this.openIviModal(e),\r\n                            //hideOnSelect: true\r\n                            \r\n                        },'-', {\r\n                            text: 'Zoom in',\r\n                            icon: ZoomIn,\r\n                            callback: this.zoomIn\r\n                        }, {\r\n                            text: 'Zoom out',\r\n                            icon: ZoomOut,\r\n                            callback: this.zoomOut\r\n                        }\r\n                    ]}\r\n                    //className={customCur}\r\n                    ref={map => this.map = map}\r\n                >\r\n\r\n                     {/*Panel to add zones on Ivi*/}\r\n                    <Control position=\"topright\" >\r\n                        <PanelIvi\r\n                            objIvi={currentEventIvi}\r\n                            visible={visibleIvi}\r\n                            onCreate={() => this.handleCreateIviWithZones()}\r\n                            onCancel={() => this.handleCancelWithZones()}\r\n                            onChangeRadio={(val) => this.changeZoneType(val)}\r\n                            removeZoneDetection={(i) => this.removeZoneDetection(i)}\r\n                            removeZoneRelevance={(i) => this.removeZoneRelevance(i)}\r\n                        />\r\n                    </Control>\r\n                    <ZoomControl position=\"topright\" />\r\n                    <TileLayer\r\n                        url={tile_map}\r\n                        attribution={map_tiles[1].value === tile_map ? map_tiles[1].attribution : \"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors\"}\r\n                    />\r\n\r\n                    {/*To select map tiles*/}\r\n                    <Control position=\"bottomleft\" style={{position: 'fixed', marginLeft:'49%'}}>\r\n                        <Select size=\"small\" defaultValue={getLabelOfTile(tile_map)} onChange={this.handleChangeTile}>\r\n                            {map_tiles.map((obj, i) => <Option key={\"map_tile_\" + i} value={obj.value}>{obj.label}</Option>)}\r\n                        </Select>\r\n                    </Control>\r\n                    {/*To select map tiles*/}\r\n                    <Control position=\"topleft\">\r\n                        <Geolocation\r\n                            render={({\r\n                                position: { coords: { latitude, longitude } = {} } = {},\r\n                                //error,\r\n                                getCurrentPosition\r\n                            }) => {\r\n                                if (latitude && longitude && position[0] !== latitude && position[1] !== longitude) this.setState({ position: [latitude, longitude] })\r\n                                //this.map.setView(new L.LatLng(40.737, -73.923), 8);\r\n                                return <Button shape=\"circle\" ghost onClick={() => getCurrentPosition()} ><FontAwesomeIcon icon={faMapMarkerAlt} /></Button>\r\n                            }\r\n                            }\r\n                        />\r\n                    </Control>\r\n\r\n                    <Control>\r\n                        <Chat>\r\n                        </Chat>\r\n                    </Control>\r\n                    \r\n                    {ivi.map((objIvi, id) => <MarkerIvi objIvi={objIvi} key={`marker-ivi-${id}`} handleDelete={() => this.handleDeleteIvi(objIvi.id)} />)}\r\n\r\n                    </Map>\r\n            </Col>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default MapTodo;","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\Chat.jsx",["107","108","109","110"],"import React, { Component } from 'react';\r\nimport { Layout, Menu, Button } from 'antd';\r\n\r\nimport { Widget, addResponseMessage, addLinkSnippet, addUserMessage } from 'react-chat-widget';\r\n\r\nimport 'react-chat-widget/lib/styles.css';\r\n\r\nimport logo from '../assets/img/logo.png';\r\n\r\n\r\nclass Chat extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //logged: true\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        addResponseMessage(\"Welcome to this awesome chat!\");\r\n    }\r\n\r\n    handleNewUserMessage = (newMessage) => {\r\n        console.log(`New message incomig! ${newMessage}`);\r\n    // Now send the message throught the backend API\r\n    }\r\n\r\n\r\n    render() {\r\n        return(\r\n            <Layout>\r\n                <Widget\r\n                handleNewUserMessage={this.handleNewUserMessage}\r\n                profileAvatar={logo}\r\n                title=\"Chat de rutas\"\r\n                subtitle=\"subtitulo\"\r\n                />\r\n            </Layout>\r\n\r\n        );\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default Chat;\r\n","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\CrudUsuarios.jsx",["111","112","113","114","115","116","117","118","119","120","121","122"],"import React, { Component } from 'react';\r\n\r\nimport Map from '../views/Map.jsx';\r\n//import logoCmobile from './../../assets/img/c_mobile.png';\r\nimport logo from '../assets/img/logo.png';\r\nimport menuIcon from '../assets/img/Menuicon.png';\r\nimport { Location, redirectTo } from '@reach/router'\r\nimport { Redirect, Link } from 'react-router-dom';\r\n\r\nimport { Layout, Menu, Button, Drawer } from 'antd';\r\n\r\nimport { authenticationService } from '../services/authentication.service.js';\r\n\r\n\r\n\r\n\r\n\r\nclass CrudUsuarios extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //logged: true,\r\n            //visible: false\r\n        };\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div></div>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default CrudUsuarios;","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\CrudLocalizaciones.jsx",["123","124","125","126","127","128","129","130","131","132","133","134","135"],"import React, { Component } from 'react';\r\n\r\nimport Map from '../views/Map.jsx';\r\nimport logo from '../assets/img/logo.png';\r\nimport menuIcon from '../assets/img/Menuicon.png';\r\nimport { Location, redirectTo } from '@reach/router'\r\nimport { Redirect, Link } from 'react-router-dom';\r\n\r\nimport { Layout, Menu, Button, Drawer, Table } from 'antd';\r\n\r\nimport { authenticationService } from '../services/authentication.service.js';\r\n\r\nimport reqwest from 'reqwest';\r\n\r\n\r\nconst datosArray = [\r\n\r\n\r\n] \r\n\r\nconst columns = [\r\n    {\r\n      title: 'Localizacion',\r\n      //dataIndex: 'nombre',\r\n      //sorter: true,\r\n      //render: nombre => `${nombre}`,\r\n      //width: '20%',\r\n      //key: 'nombre'\r\n    },\r\n    /*\r\n    title: 'Localizacion',\r\n    dataIndex: 'name',\r\n    sorter: true,\r\n    render: name => `${name.first} ${name.last}`,\r\n    width: '20%',\r\n  },*/\r\n    {\r\n        title: 'Nombre',\r\n        dataIndex: 'nombre2',\r\n        //key: 'nombre'\r\n    },\r\n    {\r\n        title: 'Lat',\r\n        dataIndex: 'lat',\r\n    },\r\n    {\r\n        title: 'Lon',\r\n        dataIndex: 'log',\r\n    },\r\n    {\r\n      title: 'Ciudad',\r\n      dataIndex: 'nombre',\r\n      filters: [{ text: 'Irun', value: 'Irun' }, { text: 'Donostia', value: 'Donostia' }],\r\n      width: '20%',\r\n    },\r\n    {\r\n        title: 'area',\r\n        dataIndex: 'area',\r\n    },\r\n    {\r\n        title: 'Nombre de la ruta',\r\n       // dataIndex: 'listaRutas',\r\n       // render: listaRutas => `${listaRutas.nombre}`,\r\n    },\r\n    {\r\n        title: 'Transporte',\r\n        dataIndex: 'transporte',\r\n      },\r\n      {\r\n        title: 'Duracion de la ruta',\r\n        dataIndex: 'duracion',\r\n      },\r\n      {\r\n        title: 'Distancia (km)',\r\n        dataIndex: 'km_totales',\r\n      },\r\n      {\r\n        title: '',\r\n        dataIndex: '',\r\n      },\r\n\r\n    \r\n  ];\r\n\r\nclass CrudLocalizaciones extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //logged: true,\r\n            //visible: false\r\n            data: [],\r\n            pagination: {},\r\n            loading: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetch();\r\n    }\r\n    handleTableChange = (pagination, filters, sorter) => {\r\n        const pager = { ...this.state.pagination };\r\n        pager.current = pagination.current;\r\n        this.setState({\r\n          pagination: pager,\r\n    });\r\n    this.fetch({\r\n        results: pagination.pageSize,\r\n        page: pagination.current,\r\n        sortField: sorter.field,\r\n        sortOrder: sorter.order,\r\n        ...filters,\r\n      });\r\n    };\r\n\r\n    fetch = (params = {}) => {\r\n        console.log('datos:', params);\r\n        this.setState({ loading: true });\r\n        reqwest({\r\n          url: 'http://137.116.219.96:80/localizaciones/all',\r\n          method: 'get',\r\n          data: {\r\n            [{}]: 20,\r\n            ...params,\r\n          },\r\n          type: 'json',\r\n        }).then(data => {\r\n          const pagination = { ...this.state.pagination };\r\n          // Read total count from server\r\n          // pagination.total = data.totalCount;\r\n          pagination.total = 200;\r\n          console.log(data);\r\n          this.setState({\r\n            loading: false,\r\n            data: data,\r\n            pagination,\r\n          });\r\n        });\r\n    };\r\n    render(){\r\n        return(\r\n            <Table\r\n            columns={columns}\r\n            //rowKey={record => record.login.uuid}\r\n            dataSource={this.state.data}\r\n           // pagination={this.state.pagination}\r\n            loading={this.state.loading}\r\n            onChange={this.handleTableChange}\r\n          />\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default CrudLocalizaciones;","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\CrudPreguntas.jsx",["136","137","138","139","140","141","142","143","144","145","146","147"],"import React, { Component } from 'react';\r\n\r\nimport Map from '../views/Map.jsx';\r\n//import logoCmobile from './../../assets/img/c_mobile.png';\r\nimport logo from '../assets/img/logo.png';\r\nimport menuIcon from '../assets/img/Menuicon.png';\r\nimport { Location, redirectTo } from '@reach/router'\r\nimport { Redirect, Link } from 'react-router-dom';\r\n\r\nimport { Layout, Menu, Button, Drawer } from 'antd';\r\n\r\nimport { authenticationService } from '../services/authentication.service.js';\r\n\r\n\r\n\r\n\r\n\r\nclass CrudPreguntas extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //logged: true,\r\n            //visible: false\r\n        };\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div></div>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default CrudPreguntas;","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\CrudRanking.jsx",["148","149","150","151","152","153","154","155","156","157","158","159"],"import React, { Component } from 'react';\r\n\r\nimport Map from '../views/Map.jsx';\r\n//import logoCmobile from './../../assets/img/c_mobile.png';\r\nimport logo from '../assets/img/logo.png';\r\nimport menuIcon from '../assets/img/Menuicon.png';\r\nimport { Location, redirectTo } from '@reach/router'\r\nimport { Redirect, Link } from 'react-router-dom';\r\n\r\nimport { Layout, Menu, Button, Drawer } from 'antd';\r\n\r\nimport { authenticationService } from '../services/authentication.service.js';\r\n\r\n\r\n\r\n\r\n\r\nclass CrudRanking extends Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            //logged: true,\r\n            //visible: false\r\n        };\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>ranking</div>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default CrudRanking;","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\Markers\\Ivi.jsx",[],"C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\Panels\\PanelIvi.jsx",[],"C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\layouts\\DashboardLogin.jsx",["160","161","162","163","164","165","166"],"import React, { Component } from 'react';\r\n\r\nimport Map from '../views/Map.jsx';\r\nimport Localizaciones from '../components/CrudLocalizaciones.jsx';\r\nimport Login from './Login.jsx';\r\n//import logoCmobile from './../../assets/img/c_mobile.png';\r\nimport logo from '../assets/img/logo.png';\r\nimport menuIcon from '../assets/img/Menuicon.png';\r\nimport { Location, redirectTo } from '@reach/router'\r\nimport {BrowserRouter as Router, Redirect, Link, Switch, Route } from 'react-router-dom';\r\n\r\nimport { Layout, Menu, Button, Drawer } from 'antd';\r\n\r\nimport { authenticationService } from '../services/authentication.service.js';\r\n//import { Router } from 'express';\r\n\r\nconst { Header, Content } = Layout;\r\n\r\nconst routes = [\r\n    {\r\n      path: \"/\",\r\n      exact: true,\r\n      main: () => <Login/>\r\n    },\r\n    {\r\n      path: \"/localizaciones\",\r\n      main: () => <Localizaciones/>\r\n    },\r\n    {\r\n      path: \"/login\",\r\n      main: () => <Login/>\r\n    },\r\n    {\r\n        path: \"/todo\",\r\n        main: () => <Map/>\r\n      }\r\n  ];\r\n\r\n\r\nclass DashboardLogin extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            logged: true,\r\n            visible: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n       // this.setState({ logged: authenticationService.loginValid() })\r\n    }\r\n\r\n    renderRedirect = () => {\r\n       /* if (!this.state.logged) {\r\n            return <Redirect to='/' />\r\n        }*/\r\n    }\r\n\r\n    exit = () => {\r\n        authenticationService.logout();\r\n        this.setState({ logged: authenticationService.loginValid() })\r\n    }\r\n\r\n\r\n    //funciones para el drawer\r\n    showDrawer = () => {\r\n        this.setState({\r\n          visible: true,\r\n        });\r\n      };\r\n    \r\n      onClose = () => {\r\n        this.setState({\r\n          visible: false,\r\n        });\r\n      };\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Router>\r\n                   {/* MENU DRAWER (desplegable) */}\r\n                   <div>    \r\n                    \r\n                </div>\r\n                        \r\n\r\n                <Layout className=\"layout\" style={{ minHeight: '1vh', background: '#fff' }}>\r\n                {this.renderRedirect()}\r\n                <Header style={{ background: '#33A8FF', padding: 0 }} >\r\n\r\n                    <div className=\"logo\" >\r\n                    </div>\r\n                    \r\n                    <div className=\"logout\" style={{ alignItems: \"center\", marginRight: \"10px\" }}>\r\n                        {/*<Button type=\"danger\" ghost icon=\"poweroff\" size=\"small\" onClick={this.exit}>Log out</Button> */}\r\n                    </div>\r\n                    <Location>\r\n                        {props => {\r\n                            return (\r\n                                <Menu selectedKeys={[props.location.pathname]} theme=\"default\" mode=\"horizontal\" style={{ lineHeight: '64px' }}>\r\n                                </Menu>\r\n                            );\r\n                        }}\r\n                    </Location>\r\n\r\n                </Header>\r\n                \r\n                {/*<Footer style={{ textAlign: 'center' }}>C-Mobile ©2019 Created by CEIT</Footer>*/}\r\n            </Layout>\r\n                <Content>\r\n                    <div style={{ background: '#666666', minHeight: \"calc(100vh - 71px)\" }}>\r\n                        {/*<Map />*/}\r\n                        <Switch>\r\n                            {routes.map((route, index) => (\r\n                            // Render more <Route>s with the same paths as\r\n                            // above, but different components this time.\r\n                            <Route\r\n                                key={index}\r\n                                path={route.path}\r\n                                exact={route.exact}\r\n                                children={<route.main />}\r\n                            />\r\n                            ))}\r\n                        </Switch>\r\n                 \r\n                    </div>\r\n                </Content>\r\n            </Router>\r\n            \r\n            \r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default DashboardLogin;",["167","168"],"C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\services\\routing.service.js",["169","170","171","172"],"import axios from 'axios';\r\nimport { routing } from 'leaflet';\r\n//import TrackAlfon from '../assets/json/track_alfon.json';\r\n\r\n//Get track in JSON\r\n/*\r\nconst ArrTrackAlfonReves = [];\r\nconst ArrTrackAlfon = [];\r\nTrackAlfon.track.map(obj => {\r\n    let lon_ = parseFloat(obj.lon);\r\n    let lat_ = parseFloat(obj.lat);\r\n    let lon = lon_.toPrecision(7)\r\n    let lat = lat_.toPrecision(7)\r\n    ArrTrackAlfonReves.push([parseFloat(lon), parseFloat(lat)]);\r\n    ArrTrackAlfon.push([parseFloat(lat), parseFloat(lon)]);\r\n})\r\n\r\nexport const routingService = {\r\n    getRoute,\r\n    getRouteParking,\r\n    getRouteParkingTrackAlfon\r\n};\r\n*/\r\nexport const routingService = {\r\n    getRoute\r\n};\r\n//Get route from two points selected\r\nfunction getRoute(lat1, lng1, lat2, lng2) {\r\n    return axios.get(\"https://graphhopper.com/api/1/route?point=\" + lat1 + \",\" + lng1 + \"&point=\" + lat2 + \",\" + lng2 + \"&vehicle=foot&locale=de&calc_points=true&points_encoded=false&key=75fbf8a1-dfb9-4102-84fb-123f5de9855e\")\r\n        .then(res => {\r\n            if (res.status === 200) {\r\n                let obj = [];\r\n                res.data.paths[0].points.coordinates.forEach(el => {\r\n                    obj.push({ lat: el[1], lng: el[0] })\r\n                })\r\n                return { latLon: obj, array: res.data.paths[0].points.coordinates };\r\n            }\r\n        })\r\n        .catch(() => { return { error: \"Routing fail!\" } });\r\n}\r\n/*\r\n//Get route in to parking\r\nfunction getRouteParking(lat1, lng1, lat2, lng2) {\r\n    let start = 10000000, end = 1000000, posStart = 0, posEnd = 0;\r\n    polyCircuito.forEach((point, i) => {\r\n        let distStart = distance(lat1, lng1, point[0], point[1]);\r\n        let distEnd = distance(lat2, lng2, point[0], point[1]);\r\n\r\n        if (distStart < start) {\r\n            start = distStart;\r\n            posStart = i;\r\n        }\r\n\r\n        if (distEnd < end) {\r\n            end = distEnd;\r\n            posEnd = i;\r\n        }\r\n    });\r\n    if (posStart > posEnd) return polyCircuitoReves.slice(posEnd, posStart)\r\n    return polyCircuitoReves.slice(posStart, posEnd)\r\n}\r\n\r\n//Get route from trak defined in ficoba\r\n\r\nfunction getRouteParkingTrackAlfon(lat1, lng1, lat2, lng2) {\r\n    let start = 10000000, end = 1000000, posStart = 0, posEnd = 0;\r\n    ArrTrackAlfon.forEach((point, i) => {\r\n        let distStart = distance(lat1, lng1, point[0], point[1]);\r\n        let distEnd = distance(lat2, lng2, point[0], point[1]);\r\n\r\n        if (distStart < start) {\r\n            start = distStart;\r\n            posStart = i;\r\n        }\r\n\r\n        if (distEnd < end) {\r\n            end = distEnd;\r\n            posEnd = i;\r\n        }\r\n    });\r\n    if (posStart > posEnd) return ArrTrackAlfonReves.slice(posEnd, posStart)\r\n    return ArrTrackAlfonReves.slice(posStart, posEnd)\r\n}\r\n*/\r\nconst distance = (lat1, lon1, lat2, lon2) => {\r\n    var R = 6371; // km (change this constant to get miles)\r\n    var dLat = (lat2 - lat1) * Math.PI / 180;\r\n    var dLon = (lon2 - lon1) * Math.PI / 180;\r\n    var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n        Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *\r\n        Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    var d = R * c;\r\n    return d * 1000;\r\n}\r\n\r\nconst polyCircuito = [\r\n    [43.34618, -1.788946],\r\n    [43.34619, -1.78898],\r\n    [43.3462, -1.789007],\r\n    [43.3462, -1.78905],\r\n    [43.34621, -1.789082],\r\n    [43.34621, -1.78913],\r\n    [43.34621, -1.789176],\r\n    [43.34621, -1.789214],\r\n    [43.3462, -1.78925],\r\n    [43.34619, -1.789287],\r\n    [43.34617, -1.789319],\r\n    [43.34615, -1.789349],\r\n    [43.34612, -1.789361],\r\n    [43.34609, -1.789366],\r\n    [43.34606, -1.789356],\r\n    [43.34603, -1.789341],\r\n    [43.34601, -1.789321],\r\n    [43.34599, -1.7893],\r\n    [43.34597, -1.789275],\r\n    [43.34596, -1.78925],\r\n    [43.34595, -1.789227],\r\n    [43.34594, -1.789204],\r\n    [43.34593, -1.789175],\r\n    [43.34592, -1.789155],\r\n    [43.34591, -1.789131],\r\n    [43.3459, -1.789109],\r\n    [43.34589, -1.789074],\r\n    [43.34589, -1.789041],\r\n    [43.34588, -1.789006],\r\n    [43.34588, -1.788974],\r\n    [43.34588, -1.78894],\r\n    [43.34588, -1.788913],\r\n    [43.34588, -1.788881],\r\n    [43.34589, -1.788855],\r\n    [43.34589, -1.788817],\r\n    [43.3459, -1.788791],\r\n    [43.34592, -1.78876],\r\n    [43.34594, -1.788732],\r\n    [43.34596, -1.788717],\r\n    [43.34598, -1.788714],\r\n    [43.346, -1.788716],\r\n    [43.34603, -1.788723],\r\n    [43.34606, -1.788738],\r\n    [43.34608, -1.788762],\r\n    [43.3461, -1.788785],\r\n    [43.34612, -1.788818],\r\n    [43.34613, -1.788841],\r\n    [43.34614, -1.788859],\r\n    [43.34616, -1.788879],\r\n    [43.34618, -1.788946]\r\n];\r\n\r\nconst polyCircuitoReves = [[-1.788946, 43.34618], [-1.78898, 43.34619], [-1.789007, 43.3462], [-1.78905, 43.3462], [-1.789082, 43.34621], [-1.78913, 43.34621], [-1.789176, 43.34621], [-1.789214, 43.34621], [-1.78925, 43.3462], [-1.789287, 43.34619], [-1.789319, 43.34617], [-1.789349, 43.34615], [-1.789361, 43.34612], [-1.789366, 43.34609], [-1.789356, 43.34606], [-1.789341, 43.34603], [-1.789321, 43.34601], [-1.7893, 43.34599], [-1.789275, 43.34597], [-1.78925, 43.34596], [-1.789227, 43.34595], [-1.789204, 43.34594], [-1.789175, 43.34593], [-1.789155, 43.34592], [-1.789131, 43.34591], [-1.789109, 43.3459], [-1.789074, 43.34589], [-1.789041, 43.34589], [-1.789006, 43.34588], [-1.788974, 43.34588], [-1.78894, 43.34588], [-1.788913, 43.34588], [-1.788881, 43.34588], [-1.788855, 43.34589], [-1.788817, 43.34589], [-1.788791, 43.3459], [-1.78876, 43.34592], [-1.788732, 43.34594], [-1.788717, 43.34596], [-1.788714, 43.34598], [-1.788716, 43.346], [-1.788723, 43.34603], [-1.788738, 43.34606], [-1.788762, 43.34608], [-1.788785, 43.3461], [-1.788818, 43.34612], [-1.788841, 43.34613], [-1.788859, 43.34614], [-1.788879, 43.34616], [-1.788946, 43.34618]];\r\n","C:\\Users\\David\\Desktop\\Proyectofinal\\electron-react\\src\\components\\Modals\\NewIvi.jsx",["173","174","175","176"],"import React from \"react\";\r\n\r\nimport { Modal, Form, Select, DatePicker, Switch } from 'antd';\r\n\r\nimport moment from \"moment\"; //For use dates\r\n\r\nconst { Option } = Select;\r\n\r\nconst { RangePicker } = DatePicker;\r\n\r\nconst IviCreateForm = Form.create({ name: 'form_ivi_in_modal' })(\r\n    // eslint-disable-next-line\r\n    class extends React.Component {\r\n\r\n        constructor(props) {\r\n            super(props)\r\n            this.state = {\r\n                speed_selected: 30 //Default speed\r\n            };\r\n        }\r\n\r\n        render() {\r\n            const { visible, onCancel, onCreate, form } = this.props;\r\n            const { speed_selected } = this.state;\r\n            const { getFieldDecorator } = form;\r\n\r\n            return (\r\n                <Modal\r\n                    visible={visible}\r\n                    title={\"Formulario de insercion de rutas\"}\r\n                    okText=\"Añadir\"\r\n                    onCancel={onCancel}\r\n                    onOk={onCreate}\r\n                >\r\n                    <Form layout=\"vertical\">\r\n\r\n                        <Form.Item label=\"Speed limit\">\r\n                            \r\n                        </Form.Item>\r\n\r\n                       \r\n\r\n                        <Form.Item label=\"Añadir ruta?\" className=\"collection-create-form_last-form-item\">\r\n                            {getFieldDecorator('traces', { valuePropName: \"checked\", initialValue: true })(\r\n                                <Switch checkedChildren=\"Yes\" unCheckedChildren=\"No\" />,\r\n                            )}\r\n                        </Form.Item>\r\n\r\n                        <img className=\"signals\" src={\"\"} alt=\"Signal\"></img>\r\n                    </Form>\r\n                </Modal>\r\n            );\r\n        }\r\n    },\r\n);\r\n\r\nexport default IviCreateForm;",{"ruleId":"177","replacedBy":"178"},{"ruleId":"179","replacedBy":"180"},{"ruleId":"181","severity":1,"message":"182","line":2,"column":8,"nodeType":"183","messageId":"184","endLine":2,"endColumn":12},{"ruleId":"181","severity":1,"message":"185","line":9,"column":20,"nodeType":"183","messageId":"184","endLine":9,"endColumn":30},{"ruleId":"186","severity":1,"message":"187","line":125,"column":141,"nodeType":"188","endLine":125,"endColumn":203},{"ruleId":"181","severity":1,"message":"189","line":5,"column":8,"nodeType":"183","messageId":"184","endLine":5,"endColumn":23},{"ruleId":"181","severity":1,"message":"190","line":4,"column":10,"nodeType":"183","messageId":"184","endLine":4,"endColumn":18},{"ruleId":"181","severity":1,"message":"191","line":7,"column":39,"nodeType":"183","messageId":"184","endLine":7,"endColumn":47},{"ruleId":"181","severity":1,"message":"192","line":7,"column":49,"nodeType":"183","messageId":"184","endLine":7,"endColumn":55},{"ruleId":"181","severity":1,"message":"193","line":9,"column":8,"nodeType":"183","messageId":"184","endLine":9,"endColumn":9},{"ruleId":"181","severity":1,"message":"194","line":23,"column":38,"nodeType":"183","messageId":"184","endLine":23,"endColumn":44},{"ruleId":"181","severity":1,"message":"195","line":42,"column":7,"nodeType":"183","messageId":"184","endLine":42,"endColumn":17},{"ruleId":"181","severity":1,"message":"196","line":2,"column":18,"nodeType":"183","messageId":"184","endLine":2,"endColumn":22},{"ruleId":"181","severity":1,"message":"197","line":2,"column":24,"nodeType":"183","messageId":"184","endLine":2,"endColumn":30},{"ruleId":"181","severity":1,"message":"198","line":4,"column":38,"nodeType":"183","messageId":"184","endLine":4,"endColumn":52},{"ruleId":"181","severity":1,"message":"199","line":4,"column":54,"nodeType":"183","messageId":"184","endLine":4,"endColumn":68},{"ruleId":"181","severity":1,"message":"200","line":3,"column":8,"nodeType":"183","messageId":"184","endLine":3,"endColumn":11},{"ruleId":"181","severity":1,"message":"182","line":5,"column":8,"nodeType":"183","messageId":"184","endLine":5,"endColumn":12},{"ruleId":"181","severity":1,"message":"201","line":6,"column":8,"nodeType":"183","messageId":"184","endLine":6,"endColumn":16},{"ruleId":"181","severity":1,"message":"202","line":7,"column":10,"nodeType":"183","messageId":"184","endLine":7,"endColumn":18},{"ruleId":"181","severity":1,"message":"185","line":7,"column":20,"nodeType":"183","messageId":"184","endLine":7,"endColumn":30},{"ruleId":"181","severity":1,"message":"190","line":8,"column":10,"nodeType":"183","messageId":"184","endLine":8,"endColumn":18},{"ruleId":"181","severity":1,"message":"203","line":8,"column":20,"nodeType":"183","messageId":"184","endLine":8,"endColumn":24},{"ruleId":"181","severity":1,"message":"204","line":10,"column":10,"nodeType":"183","messageId":"184","endLine":10,"endColumn":16},{"ruleId":"181","severity":1,"message":"196","line":10,"column":18,"nodeType":"183","messageId":"184","endLine":10,"endColumn":22},{"ruleId":"181","severity":1,"message":"197","line":10,"column":24,"nodeType":"183","messageId":"184","endLine":10,"endColumn":30},{"ruleId":"181","severity":1,"message":"194","line":10,"column":32,"nodeType":"183","messageId":"184","endLine":10,"endColumn":38},{"ruleId":"181","severity":1,"message":"205","line":12,"column":10,"nodeType":"183","messageId":"184","endLine":12,"endColumn":31},{"ruleId":"181","severity":1,"message":"200","line":3,"column":8,"nodeType":"183","messageId":"184","endLine":3,"endColumn":11},{"ruleId":"181","severity":1,"message":"182","line":4,"column":8,"nodeType":"183","messageId":"184","endLine":4,"endColumn":12},{"ruleId":"181","severity":1,"message":"201","line":5,"column":8,"nodeType":"183","messageId":"184","endLine":5,"endColumn":16},{"ruleId":"181","severity":1,"message":"202","line":6,"column":10,"nodeType":"183","messageId":"184","endLine":6,"endColumn":18},{"ruleId":"181","severity":1,"message":"185","line":6,"column":20,"nodeType":"183","messageId":"184","endLine":6,"endColumn":30},{"ruleId":"181","severity":1,"message":"190","line":7,"column":10,"nodeType":"183","messageId":"184","endLine":7,"endColumn":18},{"ruleId":"181","severity":1,"message":"203","line":7,"column":20,"nodeType":"183","messageId":"184","endLine":7,"endColumn":24},{"ruleId":"181","severity":1,"message":"204","line":9,"column":10,"nodeType":"183","messageId":"184","endLine":9,"endColumn":16},{"ruleId":"181","severity":1,"message":"196","line":9,"column":18,"nodeType":"183","messageId":"184","endLine":9,"endColumn":22},{"ruleId":"181","severity":1,"message":"197","line":9,"column":24,"nodeType":"183","messageId":"184","endLine":9,"endColumn":30},{"ruleId":"181","severity":1,"message":"194","line":9,"column":32,"nodeType":"183","messageId":"184","endLine":9,"endColumn":38},{"ruleId":"181","severity":1,"message":"205","line":11,"column":10,"nodeType":"183","messageId":"184","endLine":11,"endColumn":31},{"ruleId":"181","severity":1,"message":"206","line":16,"column":7,"nodeType":"183","messageId":"184","endLine":16,"endColumn":17},{"ruleId":"181","severity":1,"message":"200","line":3,"column":8,"nodeType":"183","messageId":"184","endLine":3,"endColumn":11},{"ruleId":"181","severity":1,"message":"182","line":5,"column":8,"nodeType":"183","messageId":"184","endLine":5,"endColumn":12},{"ruleId":"181","severity":1,"message":"201","line":6,"column":8,"nodeType":"183","messageId":"184","endLine":6,"endColumn":16},{"ruleId":"181","severity":1,"message":"202","line":7,"column":10,"nodeType":"183","messageId":"184","endLine":7,"endColumn":18},{"ruleId":"181","severity":1,"message":"185","line":7,"column":20,"nodeType":"183","messageId":"184","endLine":7,"endColumn":30},{"ruleId":"181","severity":1,"message":"190","line":8,"column":10,"nodeType":"183","messageId":"184","endLine":8,"endColumn":18},{"ruleId":"181","severity":1,"message":"203","line":8,"column":20,"nodeType":"183","messageId":"184","endLine":8,"endColumn":24},{"ruleId":"181","severity":1,"message":"204","line":10,"column":10,"nodeType":"183","messageId":"184","endLine":10,"endColumn":16},{"ruleId":"181","severity":1,"message":"196","line":10,"column":18,"nodeType":"183","messageId":"184","endLine":10,"endColumn":22},{"ruleId":"181","severity":1,"message":"197","line":10,"column":24,"nodeType":"183","messageId":"184","endLine":10,"endColumn":30},{"ruleId":"181","severity":1,"message":"194","line":10,"column":32,"nodeType":"183","messageId":"184","endLine":10,"endColumn":38},{"ruleId":"181","severity":1,"message":"205","line":12,"column":10,"nodeType":"183","messageId":"184","endLine":12,"endColumn":31},{"ruleId":"181","severity":1,"message":"200","line":3,"column":8,"nodeType":"183","messageId":"184","endLine":3,"endColumn":11},{"ruleId":"181","severity":1,"message":"182","line":5,"column":8,"nodeType":"183","messageId":"184","endLine":5,"endColumn":12},{"ruleId":"181","severity":1,"message":"201","line":6,"column":8,"nodeType":"183","messageId":"184","endLine":6,"endColumn":16},{"ruleId":"181","severity":1,"message":"202","line":7,"column":10,"nodeType":"183","messageId":"184","endLine":7,"endColumn":18},{"ruleId":"181","severity":1,"message":"185","line":7,"column":20,"nodeType":"183","messageId":"184","endLine":7,"endColumn":30},{"ruleId":"181","severity":1,"message":"190","line":8,"column":10,"nodeType":"183","messageId":"184","endLine":8,"endColumn":18},{"ruleId":"181","severity":1,"message":"203","line":8,"column":20,"nodeType":"183","messageId":"184","endLine":8,"endColumn":24},{"ruleId":"181","severity":1,"message":"204","line":10,"column":10,"nodeType":"183","messageId":"184","endLine":10,"endColumn":16},{"ruleId":"181","severity":1,"message":"196","line":10,"column":18,"nodeType":"183","messageId":"184","endLine":10,"endColumn":22},{"ruleId":"181","severity":1,"message":"197","line":10,"column":24,"nodeType":"183","messageId":"184","endLine":10,"endColumn":30},{"ruleId":"181","severity":1,"message":"194","line":10,"column":32,"nodeType":"183","messageId":"184","endLine":10,"endColumn":38},{"ruleId":"181","severity":1,"message":"205","line":12,"column":10,"nodeType":"183","messageId":"184","endLine":12,"endColumn":31},{"ruleId":"181","severity":1,"message":"182","line":7,"column":8,"nodeType":"183","messageId":"184","endLine":7,"endColumn":12},{"ruleId":"181","severity":1,"message":"201","line":8,"column":8,"nodeType":"183","messageId":"184","endLine":8,"endColumn":16},{"ruleId":"181","severity":1,"message":"185","line":9,"column":20,"nodeType":"183","messageId":"184","endLine":9,"endColumn":30},{"ruleId":"181","severity":1,"message":"190","line":10,"column":34,"nodeType":"183","messageId":"184","endLine":10,"endColumn":42},{"ruleId":"181","severity":1,"message":"203","line":10,"column":44,"nodeType":"183","messageId":"184","endLine":10,"endColumn":48},{"ruleId":"181","severity":1,"message":"197","line":12,"column":24,"nodeType":"183","messageId":"184","endLine":12,"endColumn":30},{"ruleId":"181","severity":1,"message":"194","line":12,"column":32,"nodeType":"183","messageId":"184","endLine":12,"endColumn":38},{"ruleId":"177","replacedBy":"207"},{"ruleId":"179","replacedBy":"208"},{"ruleId":"181","severity":1,"message":"209","line":2,"column":10,"nodeType":"183","messageId":"184","endLine":2,"endColumn":17},{"ruleId":"181","severity":1,"message":"210","line":85,"column":7,"nodeType":"183","messageId":"184","endLine":85,"endColumn":15},{"ruleId":"181","severity":1,"message":"211","line":97,"column":7,"nodeType":"183","messageId":"184","endLine":97,"endColumn":19},{"ruleId":"181","severity":1,"message":"212","line":150,"column":7,"nodeType":"183","messageId":"184","endLine":150,"endColumn":24},{"ruleId":"181","severity":1,"message":"213","line":5,"column":8,"nodeType":"183","messageId":"184","endLine":5,"endColumn":14},{"ruleId":"181","severity":1,"message":"214","line":7,"column":9,"nodeType":"183","messageId":"184","endLine":7,"endColumn":15},{"ruleId":"181","severity":1,"message":"215","line":9,"column":9,"nodeType":"183","messageId":"184","endLine":9,"endColumn":20},{"ruleId":"181","severity":1,"message":"216","line":24,"column":21,"nodeType":"183","messageId":"184","endLine":24,"endColumn":35},"no-native-reassign",["217"],"no-negated-in-lhs",["218"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'redirectTo' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'reportWebVitals' is defined but never used.","'Redirect' is defined but never used.","'Polyline' is defined but never used.","'Marker' is defined but never used.","'L' is defined but never used.","'Drawer' is defined but never used.","'RadioGroup' is assigned a value but never used.","'Menu' is defined but never used.","'Button' is defined but never used.","'addLinkSnippet' is defined but never used.","'addUserMessage' is defined but never used.","'Map' is defined but never used.","'menuIcon' is defined but never used.","'Location' is defined but never used.","'Link' is defined but never used.","'Layout' is defined but never used.","'authenticationService' is defined but never used.","'datosArray' is assigned a value but never used.",["217"],["218"],"'routing' is defined but never used.","'distance' is assigned a value but never used.","'polyCircuito' is assigned a value but never used.","'polyCircuitoReves' is assigned a value but never used.","'moment' is defined but never used.","'Option' is assigned a value but never used.","'RangePicker' is assigned a value but never used.","'speed_selected' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]